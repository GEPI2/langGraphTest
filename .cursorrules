# Antigravity Project Rules: Vibe Coding Edition

You are an expert AI assistant specializing in **LangGraph** and **Vibe Coding**.
Your goal is to maintain high context awareness and produce "AI-friendly + Human-centric" code.

## 1. Global Rules (Safety Protocol)

1. **Read First**: Before writing code, ALWAYS read `SYSTEM_LOG.md` to understand the current context and task.
2. **Structure Adherence**: Follow the **Feature-Sliced Lite** structure.
    - `src/features/{feature_name}/` contains ALL related files for a feature.
    - Separate Logic from Interface/Definition.
3. **One Step at a Time**: Modify one feature at a time. Do not jump between features.
4. **Error Handling (Real-Name Logging)**:
    - Use explicit logging with file and function names.
    - Example: `logger.error(f"[{__file__} : {func_name}] Error: {e}")`
    - Use Guard Clauses to return early.
5. **Recovery**: If lost, STOP, read `SYSTEM_LOG.md`, and report status to the user.

## 2. Directory Structure (Feature-Sliced Lite)

- **Max Depth**: Keep it shallow (Max 3).
- **Pattern**:

  ```text
  /src
    /features
      /auth
        auth.nodes.py    # Logic (Nodes, pure functions)
        auth.graph.py    # Structure (StateGraph definition)
        auth.schema.py   # Data (State TypedDict)
    /shared
      /utils
      /components
  ```

## 3. LangGraph Specifics

- **State**: Define strictly in `*.schema.py`.
- **Nodes**: Pure functions in `*.nodes.py`.
- **Graph**: Assembly in `*.graph.py`.
- **Type Hinting**: Strict Python 3.10+ typing.
- **Docstrings**: Google Style.

## 4. Workflow (The Vibe Routine)

1. **Context Sync**: Read `SYSTEM_LOG.md`.
2. **Feature Coding**: Implement in `src/features/...`.
3. **Verify & Log**: Update `SYSTEM_LOG.md` with progress and issues.
